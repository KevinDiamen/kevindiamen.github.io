---
layout: post
title: Web 安全 - SQL注入
category: Web安全
tags: [Web安全]
---

# Web 安全 - SQL注入

- [介绍](#introduction)
- [SQL注入防御](#person-ssl)

<a name="introduction"></a>
## 介绍
SQL注入攻击（SQL Injection), 是由于程序没有过滤恶意提交的SQL查询,最终达到欺骗服务器执行恶意的SQL命令

## SQL注入防御

### 绑定参数
一个比较好的并且简单的方法就是绑定参数 用绑定参数的每个值将会被转义

```
$db = new PDO(...);
$query = $db->prepare('UPDATE users SET first_name = :first_name WHERE id = :id');

$query->execute([
  ':first_name' => $_POST['first_name']
]);
```
 输出处理 ： 虽然绑定参数可以保护你的query 但是数据可能是恶意的 所以你显示给用户的时候还需要做处理
 
### 存储过程
存储过程是另一个方法去避免SQL注入, 他是一组完成特定功能的SQL,经过编译后存储在数据库中, 但是存储过程比较麻烦主要有几点原因:
- 调试麻烦
- 移植问题
- 逻辑在另一个应用上

## 错误的防御方法
